# Knative Service configuration for hello-knative app
service:
  name: hello-knative
  namespace: default  # Will be overridden by app generator
  image: gcr.io/knative-samples/helloworld-go
  port: 8080
  annotations:
    autoscaling.knative.dev/minScale: "1"
    autoscaling.knative.dev/maxScale: "5"
  env:
    - name: TARGET
      value: "Knative App"
    - name: ENVIRONMENT
      value: "development"
    - name: LOG_LEVEL
      value: "info"
  # Reference to ConfigMap containing non-sensitive env vars
  envFromConfigMap: "hello-knative-config"
  # Reference to Secret containing sensitive env vars (to be created as SealedSecret)
  envFromSecret: "hello-knative-secrets"
  resources:
    requests:
      memory: "64Mi"
      cpu: "250m"
    limits:
      memory: "128Mi"
      cpu: "500m"
  
# Optional labels
labels:
  app: hello-knative
  version: "1.0"

# ConfigMap for non-sensitive environment variables
configMap:
  enabled: true
  name: hello-knative-config
  data:
    API_VERSION: "v1"
    MAX_CONNECTIONS: "100"
    DEBUG_MODE: "false"

# Secret for sensitive environment variables (to be converted to SealedSecret)
secret:
  enabled: false  # Set to true and populate data only in a secure environment
  name: hello-knative-secrets
  data:
    # These would be populated in a sealed secret
    API_KEY: "your-encrypted-api-key"
    DB_PASSWORD: "your-encrypted-db-password"
